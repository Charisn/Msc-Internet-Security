<!DOCTYPE html>
<html>
    <head>
        <title>Έκθεση Μαθήματος</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="layout.css">
    </head>
    <body>
        <header>
            <h3>CSYM019</h3>
        </header>
        <nav>
            <ul>
                <li><a href="courseSelectionForm.php">Έκθεση Μαθήματος</a></li>
                <li><a href="newCourse.html">Νέο Μάθημα</a></li>
            </ul>
        </nav>
        <main>
            <h3>Δείγμα Έκθεσης Μαθήματος</h3>
         <div class="container">
  <div class="row">
    <div class="col-md-1"></div>
      <div class="col-md-10">
        <div class="form-group">
          <form name="add_name" id="add_name" action="courses.php" method="GET">
            <table class="table table-bordered table-hover" id="dynamic_field">
               
                <tr><td>-List of Modules</td><td></td><td></td></tr>
                <td>&nbsp;&nbsp;&nbsp;Module:<input type="text" name="modules[]" placeholder="Module Title" class="form-control name_list" /></td>
                				  <td><button type="button" name="add" id="add" class="btn btn-primary">Add More</button></td>  
              </tr>
              
            </table>
            <input type="submit" >
          </form>
        </div>
      </div>
    <div class="col-md-1"></div>
  </div>
</div>
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js"></script>

  <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
<script src='https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js'></script>
      <script id="rendered-js" >
$(document).ready(function () {

  var i = 1;
  var length;
  //var addamount = 0;
  var addamount = 700;

  $("#add").click(function () {
    addamount += 20;
    console.log('amount: ' + addamount);
    i++;
    $('#dynamic_field').append('<tr id="row' + i + '"><td>&nbsp;&nbsp;&nbsp;Module:<input type="text" name="modules[]" placeholder="Module Title" class="form-control name_list"/></td><td><button type="button" name="remove" id="' + i + '" class="btn btn-danger btn_remove">X</button></td></tr>');
  });

  $(document).on('click', '.btn_remove', function () {
    addamount -= 20;
    console.log('amount: ' + addamount);
    var button_id = $(this).attr("id");
    $('#row' + button_id + '').remove();
  });



  $("#submit").on('click', function (event) {
    var formdata = $("#add_name").serialize();
    console.log(formdata);

    event.preventDefault();

    $.ajax({
      url: "action.php",
      type: "POST",
      data: formdata,
      cache: false,
      success: function (result) {
        alert(result);
        $("#add_name")[0].reset();
      } });


  });
});

    </script>
        </main>
        <footer>&copy; CSYM019 2023</footer>
    </body>
</html>